<!DOCTYPE html>
<html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<link rel="stylesheet" href="./start.css">

<body>
    <br><br><br><br><br><br>
    <form>
        <center>
            <h4 style="color: rgb(233, 204, 109);" class="let_space">✨歡迎使用</h4>
            <h4 style="color: rgb(233, 204, 109);" class="let_space">公車Be right here✨</h4>
        </center>

        <center>
            <h4 style="color: rgb(233, 109, 109);" class="let_space">起點</h4>
                <select class="select" id="startDistrict" onchange="getStartStops()">
                    <option>--請選擇起點區域--</option>
                    <option>新營區</option>
                    <option>鹽水區</option>
                    <option>白河區</option>
                    <option>北門區</option>
                    <option>柳營區</option>
                    <option>新化區</option>
                    <option>後壁區</option>
                    <option>善化區</option>
                    <option>東山區</option>
                    <option>新市區</option>
                    <option>麻豆區</option>
                    <option>山上區</option>
                    <option>官田區</option>
                    <option>玉井區</option>
                    <option>大內區</option>
                    <option>佳里區</option>
                    <option>南化區</option>
                    <option>西港區</option>
                    <option>左鎮區</option>
                    <option>七股區</option>
                    <option>龍崎區</option>
                    <option>歸仁區</option>
                    <option>下營區</option>
                    <option>六甲區</option>
                    <option>學甲區</option>
                    <option>將軍區</option>
                    <option>安定區</option>
                    <option>楠西區</option>
                    <option>仁德區</option>
                    <option>關廟區</option>
                    <option>永康區</option>
                    <option>東區</option>
                    <option>南區</option>
                    <option>北區</option>
                    <option>安南區</option>
                    <option>安平區</option>
                    <option>中西區</option>
                </select>
            <br><br>
            <select class="select" id="startStops">
                
            </select>
            <script>
                async function getStartStops() {
                    var district = document.getElementById('startDistrict').value;
                    $("#startStops").find('option').remove();
                    // const encodeD = encodeURI(district);
                    const items = await fetch(district);
                    const stops = await items.json();
                    console.log(stops);

                    const startStops_Id = document.getElementById('startStops');
                    for (let i = 0; i < stops.length; i++) {
                        var options = stops[i].stopname_zh;
                        var element = document.createElement("option");
                        element.innerHTML = options;
                        startStops_Id.append(element);
                    }
                }
            </script>
            <br>
        </center>

        
        <center>
            <h4 style="color: rgb(109, 194, 233);" class="let_space">終點</h4>
                <select class="select" id="endDistrict" onchange="getEndStops()">
                    <option>請選擇終點區域</option>
                    <option>新營區</option>
                    <option>鹽水區</option>
                    <option>白河區</option>
                    <option>北門區</option>
                    <option>柳營區</option>
                    <option>新化區</option>
                    <option>後壁區</option>
                    <option>善化區</option>
                    <option>東山區</option>
                    <option>新市區</option>
                    <option>麻豆區</option>
                    <option>山上區</option>
                    <option>官田區</option>
                    <option>玉井區</option>
                    <option>大內區</option>
                    <option>佳里區</option>
                    <option>南化區</option>
                    <option>西港區</option>
                    <option>左鎮區</option>
                    <option>七股區</option>
                    <option>龍崎區</option>
                    <option>歸仁區</option>
                    <option>下營區</option>
                    <option>六甲區</option>
                    <option>學甲區</option>
                    <option>將軍區</option>
                    <option>安定區</option>
                    <option>楠西區</option>
                    <option>仁德區</option>
                    <option>關廟區</option>
                    <option>永康區</option>
                    <option>東區</option>
                    <option>南區</option>
                    <option>北區</option>
                    <option>安南區</option>
                    <option>安平區</option>
                    <option>中西區</option>
                </select>
            <br><br>
            <select class="select" id="endStops">
                
            </select>
            <script>
                async function getEndStops() {
                    var district = document.getElementById('endDistrict').value;
                    $("#endStops").find('option').remove();
                    // const encodeD = encodeURI(district);
                    const items = await fetch(district);
                    const stops = await items.json();
                    console.log(stops);

                    const endStops_Id = document.getElementById('endStops');
                    for (let i = 0; i < stops.length; i++) {
                        var options = stops[i].stopname_zh;
                        var element = document.createElement("option");
                        element.innerHTML = options;
                        endStops_Id.append(element);
                    }
                }
            </script>


            <br><br><br><br>
            <button class="conf" type="button" onclick="ticket()">確認</button><br><br><br>
            <div class="ticket" id="price">
                票價:
                <div class="ticket" id="price"></div>
            </div><br />
            
            <script>
                async function ticket() {
                    console.log("票價");
                    document.getElementById('price').innerHTML = "全票18元、半票9元";
                }

                function passVal() {
                    var selectStartStop = document.getElementById('startStops').value;
                    var selectEndStop = document.getElementById('endStops').value;
                    localStorage.setItem("startStop", selectStartStop);
                    localStorage.setItem("endStop", selectEndStop);
                    return;
                }

            </script>
            
        </center>
            <br><br><br><br><br><br><br><br><br><br>

        <center>
            <a href="./AR.html">
                <input type="button" value="go" class="go" onclick="passVal()">
            </a>
        </center>
    </form>
</body>